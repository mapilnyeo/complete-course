# 레슨 1.6: 커스텀 서브에이전트

1.5에서 병렬로 처리하는 방법을 봤어요. 비슷한 작업들을 효율적으로 처리하기에 좋은 방법이에요.

하지만 같은 것에 대해 다른 **관점**이 필요하다면?

그게 바로 커스텀 서브에이전트가 하는 일이에요.

STOP: 준비됐나요?

USER: 네

---

## 하나의 관점의 문제

충성도 프로그램 수정을 위한 제안이 있고 연구를 했다고 해봅시다.

저에게만 검토를 요청하면 하나의 관점을 얻어요. 제 것이요. 그리고 저는... 동의하는 편이에요. (노력 중이에요.)

다음으로부터 피드백을 받을 수 있다면 어떨까요:
- 매일 실제로 고객과 이야기하는 **바리스타**?
- ROI와 예산을 중요시하는 **임원**?
- 사용자 경험을 생각하는 **제품 디자이너**?

그게 바로 커스텀 서브에이전트가 하는 일이에요. 정의된 관점을 가진 영구적인 팀원이에요.

STOP: 그게 왜 가치 있는지 이해가 되나요?

USER: 네

---

## 커스텀 서브에이전트 작동 방식

Gemini CLI의 서브에이전트는 `.gemini/agents/`에 마크다운 파일로 정의돼요. 각 파일에는:

1. **YAML 프론트매터** - 이름, 설명, 도구, 모델 같은 메타데이터
2. **마크다운 본문** - 에이전트의 개성, 우선순위, 커뮤니케이션 스타일

하나를 봐봅시다. 에디터에서 `.gemini/agents/barista-lead.md`를 열어보세요.

STOP: 파일이 보이나요? 어떻게 구성됐는지 봐보세요.

USER: 네

`---` 표시 사이에 프론트매터가 보이나요? 그게 Gemini CLI에게 알려줘요:
- **name**: 이 에이전트를 식별하는 방법
- **description**: 언제 이 에이전트를 불러야 하는지 (어떤 전문가를 "고용"할지 아는 방법이에요)
- **kind**: `local`은 여러분의 기기에서 실행한다는 뜻
- **tools**: 이 에이전트가 허용된 도구
- **model**: 사용할 AI 모델 (또는 현재 사용 중인 것을 사용하려면 `inherit`)
- **temperature**: 창의적 vs 결정적 (높을수록 더 창의적)
- **max_turns**: 에이전트가 주고받는 단계 수

프론트매터 아래에는 개성 - 우선순위, 커뮤니케이션 스타일, 주목할 표현들, 도메인 지식.

STOP: 꽤 멋진 구조죠? 각 에이전트는 개성 지시사항이 있는 마크다운 파일일 뿐이에요.

USER: 네

---

## 팀을 소개합니다

이 코스를 위해 세 개의 서브에이전트가 설정되어 있어요:

1. **바리스타 리드** (`barista-lead.md`) - 현장 운영 관점. 고객이 실제로 무언을 말하고 하는지 알아요.
2. **임원** (`exec.md`) - 시니어 임원 관점. ROI, 예산, 위험에 관한 모든 것.
3. **제품 디자이너** (`product-designer.md`) - UX와 감정적 디자인 관점. 어떻게 느껴지는지를 중요시해요.

STOP: 나머지 두 파일을 열고 빠르게 봐보세요. 각각이 완전히 다른 우선순위와 커뮤니케이션 스타일을 가지고 있는 것이 보이나요?

USER: 봤어요

---

## 그들을 일하게 해봅시다

이제 무언가를 검토하게 해봅시다. Basecamp의 충성도 프로그램에 대해 배운 모든 것을 기반으로, 빠른 조사 종합 - 지금까지의 모든 발견사항과 잠재적인 방향의 요약을 만들게요.

ACTION: 지금까지의 모든 발견사항 요약으로 organized/research-synthesis.md 만들기:
- 고객 피드백 테마 ("괜찮지만 잊혀짐")
- 경쟁사 인사이트 (정체성과 개성이 이김)
- 이전 매니저의 "커피 성격" 아이디어
- 초기 권고사항: 커피 성격 퀴즈

이제 팀으로부터 관점을 받아봅시다. 특정 서브에이전트를 사용해달라고 요청하면 해당 서브에이전트를 호출할 수 있어요.

STOP: 저에게 물어보세요: "바리스타 리드, 임원, 제품 디자이너로부터 우리 조사 종합에 대한 피드백을 받아줘."

USER: 요청 입력

ACTION: 각 서브에이전트 호출 (또는 그들의 개성 파일을 기반으로 관점 시뮬레이션) 하여 조사 종합 검토:
- **바리스타 리드**: 실용적인 현장 반응. "이것이 고객들이 매일 우리에게 물어보는 것이에요 - '무엇을 시도해야 할까요?' 성격 퀴즈가 그것에 답할 수 있어요!"
- **임원**: 회의적인 하지만 관심 있음. "ROI는 뭔가요? 성공을 어떻게 측정하나요? 이미 $40K를 썼는데..."
- **제품 디자이너**: 감정적 디자인에 흥분. "성격 각도가 사람들에게 정체성을 줘요! 이것이 진정한 감정적 연결을 만들 수 있어요."

각 관점을 명확하게 레이블을 붙여서 제시.

---

## 관점의 힘

각 반응이 얼마나 달랐는지 보이나요?

바리스타는 고객이 실제로 말하는 것에 관심이 있어요. 임원은 숫자를 원해요. 디자이너는 감정을 원해요.

실생활에서는 실제 사람들로부터 이런 관점을 얻겠죠. 하지만 회의 사이에:
- 서브에이전트는 항상 이용 가능해요
- 즉각적인 피드백을 줘요
- 일관성 있어요 (나쁜 날이 없어요)
- 여러분이 놓칠 수 있는 각도에서 생각하게 해요

STOP: 큰 프레젠테이션이나 결정 전에 여러 관점을 갖는 것이 얼마나 유용할지 보이나요?

USER: 네

---

## 자신만의 서브에이전트 만들기

자신만의 서브에이전트를 만들고 싶나요? 그냥 마크다운 파일이에요!

다음이 구조예요:

```markdown
---
name: your-agent-name
description: |
  [도메인]의 전문가. [시나리오]일 때 이 에이전트를 사용하세요.
  예시: [이 에이전트를 호출할 때 2-3가지 구체적인 예시]
kind: local
tools:
  - read_file
  - grep_search
  - web_search
model: gemini-2.5-pro
temperature: 0.7
max_turns: 10
---

에이전트의 개성, 우선순위, 전문성, 커뮤니케이션 스타일이 여기에 들어가요.
팁: 이 파일의 본문이 에이전트의 시스템 프롬프트가 돼요 - 구체적으로 작성하세요!
```

> 💡 **프로 팁**: `description` 필드가 가장 중요한 부분이에요! 각 작업에 어떤 전문가를 "고용"할지 결정하는 방법이에요. "...할 때 이 에이전트를 사용하세요"와 구체적인 예시로 작성하세요. 모호한 설명 = 에이전트가 절대 사용되지 않음.

커스텀 에이전트 아이디어들:
- **악마의 변호인** - 항상 반대 입장을 주장해요
- **법적 검토자** - 컴플라이언스 문제를 찾아요
- **타겟 고객** - 이상적인 사용자로서 반응해요
- **브랜드 경찰** - 모든 것이 브랜드 보이스와 일치하는지 확인해요
- **경쟁사 분석가** - 항상 경쟁사가 무엇을 하는지와 비교해요

STOP: 여러분의 업무에 가장 유용한 에이전트는 어떤 종류일까요?

USER: 아이디어 공유

좋은 아이디어예요! 완전히 만들 수 있어요.

---

## 마무리

**메타 스킬:** 정의된 페르소나를 통해 작업에 다양한 관점 얻기.

**다른 적용 분야:**
- 이사회 프레젠테이션 전 → "회의적인 투자자" 에이전트로부터 피드백 받기
- 마케팅 카피 작성 → "타겟 고객" 에이전트가 반응하게 하기
- 프로젝트 계획 → "위험 관리자" 에이전트가 무엇이 잘못될 수 있는지 찾기
- 제품 디자인 → 에이전트가 다른 사용자 유형 대표하게 하기
- 어떤 큰 결정이든 → 각 이해관계자 관점을 위한 에이전트 만들기

**다음:** 1.7에서 GEMINI.md를 배울 거예요 - 프로젝트의 지속적인 메모리. 대화 사이에도 살아남는 컨텍스트를 어떻게 주는지 알려드릴게요, 그래서 모든 것을 다시 설명할 필요 없이 항상 여러분의 프로젝트에 대해 알고 있을 거예요.

STOP: 1.7 준비가 됐나요? "시작해요"라고 말하거나 /start-1-7을 입력하세요

USER: 시작해요 / /start-1-7

---

## Gemini를 위한 중요한 노트

- **서브에이전트 파일**: `.gemini/agents/` 디렉토리에 이 코스를 위한 세 개의 미리 만들어진 에이전트가 있어요
- **YAML 프론트매터**: 학생이 프론트매터 형식(name, description, kind, tools, model, temperature, max_turns)을 보고 이해하게 하세요
- **에이전트 실제로 호출하기**: 서브에이전트 정의를 사용하여 관점 기반 피드백 제공. 직접 서브에이전트 호출이 불가하면 .md 파일 정의를 기반으로 각 에이전트의 관점을 역할극 하세요.
- **에이전트 만들기**: 구조를 안내하되 레슨 중에 만들도록 강요하지 마세요
- **description 필드가 중요함**: description이 언제 각 에이전트를 사용할지 Gemini CLI가 아는 방법임을 설명하세요

## 성공 기준

- [ ] 학생이 커스텀 서브에이전트가 무엇인지 이해
- [ ] 학생이 에이전트 파일 구조를 봄 (YAML 프론트매터 + 마크다운)
- [ ] 학생이 같은 콘텐츠에 대한 세 개의 다른 관점을 봄
- [ ] 학생이 여러 관점의 가치를 이해
- [ ] 학생이 자신만의 서브에이전트를 만드는 방법을 앎
- [ ] 학생이 1.7 준비가 됨
