# 레슨 1.4: 명령어 및 탐색

파일 참조하는 방법을 알았으니, 이제 빠르게 움직여봅시다.

이 레슨은 Gemini CLI를 초능력처럼 느끼게 만드는 도구들에 관한 것이에요: 슬래시 명령어, 키보드 단축키, 승인 모드, 확장 사고.

STOP: 레벨 업 할 준비가 됐나요?

USER: 네

---

## 파트 1: 필수 슬래시 명령어

Gemini CLI에는 내장된 슬래시 명령어들이 있어요. 이미 하나 사용했잖아요 - 이 레슨을 시작할 때 `/start-1-4`를요!

가장 유용한 것들을 봐봅시다. `/help`를 입력하면 전체 목록을 볼 수 있어요.

STOP: `/help`를 입력하고 목록을 봐보세요. 인상적이죠?

USER: 네

가장 많이 사용할 것들이에요:

- `/memory` - GEMINI.md 프로젝트 컨텍스트 보기 및 관리 (1.7에서 깊이 다룰 거예요)
- `/model` - 다른 Gemini 모델로 전환 (pro, flash 등)
- `/compress` - 컨텍스트가 길어질 때 대화 기록 압축
- `/clear` - 대화를 지우고 새로 시작
- `/resume` - 이전 대화 세션 재개
- `/plan` - 안전한 탐색을 위한 계획 모드로 전환
- `/commands` - 커스텀 명령어 포함 모든 사용 가능한 명령어 목록
- `/stats` - 토큰 사용량 및 모델 정보 보기

STOP: 지금 바로 `/stats`를 사용해서 현재 어떤 모델을 사용 중인지, 토큰 사용량이 어떻게 되는지 확인해보세요.

USER: /stats 시도

---

## 파트 2: 커스텀 명령어

지금까지 이미 커스텀 명령어를 계속 사용하고 있었어요! 모든 `/start-X-X` 명령어가 이 코스를 위해 만들어진 커스텀 명령어예요.

커스텀 명령어는 자주 하는 것들에 대한 단축키를 만들 수 있게 해줘요. `.gemini/commands/`에 `.toml` 파일로 저장돼요.

`/start-1-4`가 뒤에서 어떻게 작동하는지 보고 싶나요? 에디터에서 `.gemini/commands/start-1-4.toml` 파일을 열어보세요.

STOP: 명령어 파일이 보이나요?

USER: 네 / 확인

보이나요? 설명과 프롬프트가 있는 TOML 파일일 뿐이에요. `/start-1-4`를 입력하면 Gemini CLI가 그 파일을 읽어서 프롬프트를 전송해요.

일상 스탠드업 보고서, 코드 리뷰 프롬프트, 작성 템플릿 - 자주 하는 것이면 무엇이든 커스텀 명령어를 만들 수 있어요.

프로 팁: `.toml` 명령어 파일을 만들거나 편집한 후, 재시작 없이 적용하려면 `/commands reload`를 실행하세요.

STOP: 자신의 업무에서 갖고 싶은 커스텀 명령어가 있나요?

USER: 아이디어 / 계속

---

## 파트 3: 중단 및 되감기

제가 무언가를 하고 있는데 멈추고 싶다면?

간단해요: **Escape**를 누르면 돼요. 제가 하고 있는 것이 무엇이든 중단시킵니다. "잠깐만요, 기다려요"라고 말하는 것 같은 거예요.

STOP: 기억하세요. Escape = 멈추기.

USER: 알겠어요

이제 제가 마음에 들지 않는 일을 해서 되돌리고 싶다면?

**Escape를 두 번 빠르게** 누르세요 (또는 `/rewind`를 입력하세요). 이것으로 대화 기록을 탐색하고 이전 어느 지점으로든 되감을 수 있어요 - 대화와 제가 만든 파일 변경 사항 모두 취소돼요.

우리 전체 대화의 실행 취소 버튼처럼 생각하면 돼요.

STOP: 이건 엄청나요. 항상 취소할 수 있어요. 제가 뭔가를 망쳐도 걱정하지 마세요 - 언제든 돌아갈 수 있어요. 안심이 되나요?

USER: 네

---

## 파트 4: 승인 모드

제가 파일을 변경하거나 명령어를 실행하려 할 때, Gemini CLI가 먼저 승인을 요청해요. 이런 승인 프롬프트를 계속 보셨을 거예요.

멋진 부분이 있어요: **Shift+Tab**을 사용해 다른 승인 모드로 전환할 수 있어요:

1. **기본 모드** - 모든 작업 전에 물어봐요 (가장 안전)
2. **자동 편집 모드** - 묻지 않고 파일을 편집할 수 있지만, 명령어 실행은 여전히 물어봐요
3. **계획 모드** - 읽고 계획만 할 수 있고 변경은 불가 (탐색 전용)

지금 해봐요!

STOP: **Shift+Tab**을 몇 번 눌러서 모드 표시기가 바뀌는 것을 봐보세요. 어떤 모드들이 보이나요?

USER: 모드를 봄

이것들이 강력해요:

- **계획 모드**는 아무것도 건드리지 않고 분석하고 싶을 때 좋아요. 누군가의 코드베이스를 탐색하거나 제안서를 검토할 때 - 보되 건드리지 않기.
- **자동 편집 모드**는 빠른 파일 변경을 제 손에 맡길 때 속도를 높여줘요.
- **기본 모드**는 안전망이에요. 아무때나 확신이 없으면 여기에 있으세요.

Gemini CLI에는 **정책 엔진**도 있어요 - AI 어시스턴트를 위한 집안 규칙을 설정하는 것처럼 생각하면 돼요.

기본적으로 변경 전에 항상 물어봐요. 하지만 정책 엔진으로 정확히 무엇을 자동으로 할 수 있는지, 무엇은 항상 승인이 필요한지 커스터마이즈할 수 있어요. 다음과 같은 규칙들이에요:
- ✅ "파일 읽기: 항상 OK, 물어볼 필요 없음"
- ✅ "git status 실행: 항상 OK"
- ❌ "파일 삭제: 완전히 거부 - 절대 안 됨"
- ❓ "셸 명령어 실행: 먼저 물어보기"

규칙은 `~/.gemini/policies/`에 `.toml` 파일로 저장돼요. 예를 들어 간단한 규칙 파일은 이렇게 생겼어요:

```toml
[[rule]]
toolName = "run_shell_command"
commandPrefix = "git status"
decision = "allow"
priority = 100
```

이것은 고급 기능이에요 - 지금 당장 필요하지 않아요. 하지만 이것이 존재한다는 것을 알면 더 익숙해질수록 안전 설정을 항상 세밀하게 조정할 수 있어요. `geminicli.com/docs/reference/policy-engine`의 공식 문서에 전체 세부사항이 있어요.

STOP: 이런 안전 제어가 있어서 안심이 되나요?

USER: 네

---

## 파트 5: Chain-of-Thought를 통한 확장 사고

때때로 답변하기 전에 문제에 대해 더 깊이 생각해주길 원할 때가 있어요.

특정 "think" 키워드가 있는 일부 도구와 달리, Gemini CLI의 접근 방식은 더 자연스러워요. 깊이 생각하게 하는 방법이에요:

**방법 1: 단계별로 생각해달라고 요청하기**
이렇게 말하면 돼요:
- "답변하기 전에 단계별로 생각해줘"
- "이것을 신중하게 분류하고 추론해줘"
- "답변하기 전에 모든 각도를 고려해줘"

**방법 2: 계획 모드 사용하기**
**Shift+Tab** 또는 `/plan`으로 계획 모드로 전환하세요. 이 모드에서는 어떤 변경도 없이 추론을 펼쳐드릴 거예요 - 복잡한 결정에 완벽해요.

**방법 3: GEMINI.md 사용하기**
프로젝트의 GEMINI.md 파일에 "데이터를 분석할 때 항상 단계별로 생각해줘" 같은 지시사항을 추가하면 자동으로 따를 거예요. GEMINI.md는 레슨 1.7에서 깊이 다룰 거예요.

해봅시다:

STOP: 저에게 이것을 물어보세요: "단계별로 생각해줘: Basecamp의 충성도 프로그램에 대해 알고 있는 것을 기반으로, 낮은 참여율의 근본 원인은 무엇인가요?"

USER: 단계별 지시와 함께 질문

ACTION: 고객 피드백, 이전 매니저 노트, 경쟁사 조사를 참조하며 단계별 사고를 보여주는 자세하고 추론된 답변 제공.

어떻게 분류했는지 보셨나요? 복잡한 질문에서 더 깊은 사고를 명시적으로 요청하면 훨씬 좋은 결과를 얻을 수 있어요.

STOP: 더 깊은 사고를 요청할 때 품질 차이가 꽤 크죠?

USER: 네

---

## 파트 6: /memory 명령어

Gemini CLI의 가장 강력한 기능 중 하나는 `/memory`예요. 이 명령어로 대화 사이에도 제가 기억하는 지속적인 컨텍스트를 관리할 수 있어요.

현재 로드된 컨텍스트를 보려면 `/memory show`를 입력하세요.

STOP: 지금 `/memory show`를 사용해보세요.

USER: 명령어 시도

`/memory` 명령어는 GEMINI.md 파일과 작동해요 - 레슨 1.7에서 깊이 다룰 거예요. 하지만 지금은 이것을 알아두세요:
- `/memory show` - 로드된 모든 컨텍스트 보기
- `/memory add` - 프로젝트의 GEMINI.md에 새로운 메모리 추가
- `/memory refresh` - GEMINI.md 파일을 수동으로 편집한 경우 컨텍스트 다시 로드

이것은 프로젝트에 관한 중요한 지식이 세션 사이에 지속된다는 것을 의미해요. 프로젝트를 처음부터 다시 설명할 필요가 없어요!

STOP: 지속적인 메모리에 흥분이 되나요?

USER: 네

---

## 파트 7: 입력 모드

한 줄에 입력하는 것을 알아챘을 거예요. 더 길게 입력해야 하면 어떻게 할까요?

몇 가지 트릭이 있어요:
- **백슬래시 + Enter** (`\` 다음에 Enter) - 제출하지 않고 줄 바꿈 추가
- **Shift+Enter** - 같은 것, 새 줄 추가
- 텍스트를 파이프로 전달하거나 긴 내용이 있는 파일을 참조할 때 `@` 기호 사용

이것들은 더 길고 자세한 지시사항을 줄 때 훌륭해요.

STOP: `\` + Enter 또는 Shift+Enter를 사용해서 여러 줄 메시지를 입력해보세요. 작동하나요?

USER: 네

---

## 마무리

**방금 배운 메타 스킬들:**

1. **슬래시 명령어** - 빠른 작업용 (`/help`, `/memory`, `/model`, `/compress`, `/clear`, `/stats`)
2. **커스텀 명령어** (.toml 파일) - 자신만의 단축키
3. **Escape** 중단, **Escape×2** 되감기
4. **승인 모드** (Shift+Tab): 기본, 자동 편집, 계획
5. **Chain-of-Thought 프롬프팅** - 심층 분석용
6. **/memory 명령어** - 지속적인 컨텍스트
7. **입력 모드** - 더 긴 메시지용

**다른 적용 분야:**
- 큰 프로젝트 작업 중? 승인 모드로 위험 제어
- 조사 작업? 계획 모드로 안전하게 탐색
- 복잡한 분석? 단계별 사고 요청
- 반복 작업? 커스텀 명령어 만들기
- 컨텍스트가 길어지면? `/compress`로 간결하게 유지

**다음:** 1.5에서 에이전트에 대해 배울 거예요 - 전문가를 고용하고 병렬로 처리하는 Gemini의 능력. 이것이 Gemini CLI가 전체 팀을 갖는 느낌이 나기 시작하는 부분이에요.

STOP: 1.5 준비가 됐나요? "시작해요"라고 말하거나 /start-1-5를 입력하세요

USER: 시작해요 / /start-1-5

---

## Gemini를 위한 중요한 노트

- **Esc×2는 되감기**: 이중 Escape는 입력이 비어있지 않으면 삭제하고, 비어있으면 탐색/되감기를 해요. 중요해요.
- **Shift+Tab**: 승인 모드 순환 (기본 → 자동 편집 → 계획). 이것은 실제 기능이에요.
- **"think" 키워드 없음**: Claude Code와 달리, Gemini CLI는 특별한 think/ultrathink 키워드가 없어요. 대신 Chain-of-Thought 프롬프팅과 계획 모드를 동등한 것으로 가르치세요.
- **정책 엔진**: 언급하되 깊이 들어가지 마세요 - 고급 기능이에요. 인식만 심어주면 돼요.
- **/memory**: 명령어를 시연하되 GEMINI.md를 다루는 1.7을 위해 깊은 다이브는 아껴두세요
- **커스텀 명령어**: 실제로 .toml 파일을 보고 형식을 확인하도록 하세요

## 성공 기준

- [ ] 학생이 필수 슬래시 명령어를 앎
- [ ] 학생이 커스텀 명령어가 어떻게 작동하는지 봄 (TOML 형식)
- [ ] 학생이 Escape (중단)와 Esc×2 (되감기)를 이해
- [ ] 학생이 Shift+Tab으로 승인 모드를 순환해봄
- [ ] 학생이 심층 사고를 위한 Chain-of-Thought 프롬프팅을 이해
- [ ] 학생이 /memory show를 시도해봄
- [ ] 학생이 여러 줄 입력을 앎
- [ ] 학생이 1.5 준비가 됨
